<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analizador de L√≠neas de Transmisi√≥n | Ingenier√≠a RF</title>
    <meta name="description" content="Herramienta profesional para an√°lisis de par√°metros en sistemas de radiofrecuencia y microondas">
    <meta name="keywords" content="l√≠neas de transmisi√≥n, RF, microondas, diagrama de Smith, VSWR, impedancia">
    <meta name="author" content="Universidad de Oriente">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header role="banner">
        <div class="header-content">
            <h1 role="heading" aria-level="1">Analizador de L√≠neas de Transmisi√≥n</h1>
            <p class="subtitle" id="app-description">
                Herramienta profesional para an√°lisis de par√°metros en sistemas de radiofrecuencia y microondas.
                Calcule impedancia caracter√≠stica, coeficiente de reflexi√≥n, ROE, p√©rdida de retorno y visualice
                la distribuci√≥n de ondas estacionarias con precisi√≥n de ingenier√≠a.
            </p>
        </div>
    </header>

    <main class="main-container" role="main">
        <div class="main-grid">
            <!-- Controls Panel -->
            <aside aria-labelledby="controls-heading">
                <h2 class="controls-title" id="controls-heading">
                    <span class="icon" aria-hidden="true">‚öôÔ∏è</span>
                    Par√°metros de Entrada
                </h2>
                
                <form id="transmissionLineForm" novalidate>
                    <!-- Z0 Input -->
                    <div class="input-group">
                        <label for="z0">
                            Impedancia Caracter√≠stica (Z‚ÇÄ)
                            <span class="unit">Œ©</span>
                        </label>
                        <input
                            type="number"
                            id="z0"
                            value="50"
                            min="25"
                            max="150"
                            step="1"
                            required
                            aria-required="true"
                            aria-describedby="z0Error z0Help"
                            aria-invalid="false">
                        <small id="z0Help" class="help-text">T√≠picamente 50Œ© o 75Œ©</small>
                        <div class="error-message" id="z0Error" role="alert">
                            La impedancia caracter√≠stica debe estar entre 25Œ© y 150Œ©
                        </div>
                    </div>

                    <!-- Load Resistance -->
                    <div class="input-group">
                        <label for="r">
                            Impedancia de Carga - Parte Real (R)
                            <span class="unit">Œ©</span>
                        </label>
                        <input
                            type="number"
                            id="r"
                            value="75"
                            min="0"
                            step="0.1"
                            required
                            aria-required="true"
                            aria-describedby="rError rHelp"
                            aria-invalid="false">
                        <small id="rHelp" class="help-text">Componente resistivo ‚â• 0</small>
                        <div class="error-message" id="rError" role="alert">
                            La parte real de la impedancia debe ser ‚â• 0
                        </div>
                    </div>

                    <!-- Load Reactance -->
                    <div class="input-group">
                        <label for="x">
                            Impedancia de Carga - Parte Imaginaria (X)
                            <span class="unit">Œ©</span>
                        </label>
                        <input
                            type="number"
                            id="x"
                            value="30"
                            step="0.1"
                            required
                            aria-required="true"
                            aria-describedby="xError xHelp"
                            aria-invalid="false">
                        <small id="xHelp" class="help-text">Reactancia: positiva (inductiva) o negativa (capacitiva)</small>
                        <div class="error-message" id="xError" role="alert">
                            Ingrese un valor num√©rico v√°lido para la reactancia
                        </div>
                    </div>

                    <!-- Frequency -->
                    <div class="input-group">
                        <label for="frequency">Frecuencia de Operaci√≥n</label>
                        <input
                            type="number"
                            id="frequency"
                            value="100"
                            min="0.1"
                            step="0.1"
                            required
                            aria-required="true"
                            aria-describedby="freqError freqHelp"
                            aria-invalid="false">
                        <div class="unit-select">
                            <label for="freqUnit">
                                Unidad:
                                <select id="freqUnit" aria-label="Unidad de frecuencia">
                                    <option value="1e6">MHz</option>
                                    <option value="1e3">kHz</option>
                                    <option value="1">Hz</option>
                                    <option value="1e9">GHz</option>
                                </select>
                            </label>
                        </div>
                        <small id="freqHelp" class="help-text">Frecuencia de trabajo del sistema</small>
                        <div class="error-message" id="freqError" role="alert">
                            La frecuencia debe ser mayor a 0
                        </div>
                    </div>

                    <!-- Length -->
                    <div class="input-group">
                        <label for="length">Longitud de la L√≠nea</label>
                        <input
                            type="number"
                            id="length"
                            value="2"
                            min="0.01"
                            step="0.01"
                            required
                            aria-required="true"
                            aria-describedby="lenError lenHelp"
                            aria-invalid="false">
                        <div class="unit-select">
                            <label for="lenUnit">
                                Unidad:
                                <select id="lenUnit" aria-label="Unidad de longitud">
                                    <option value="1">m</option>
                                    <option value="0.01">cm</option>
                                    <option value="0.001">mm</option>
                                </select>
                            </label>
                        </div>
                        <small id="lenHelp" class="help-text">Longitud f√≠sica de la l√≠nea</small>
                        <div class="error-message" id="lenError" role="alert">
                            La longitud debe ser mayor a 0
                        </div>
                    </div>

                    <!-- Action Buttons -->
                    <div class="button-group">
                        <button type="button" id="calculateBtn" class="btn-primary" aria-label="Calcular par√°metros de la l√≠nea de transmisi√≥n">
                            <span aria-hidden="true">üîÑ</span> Calcular
                        </button>
                        <button type="button" id="copyBtn" class="btn-secondary" aria-label="Copiar resultados al portapapeles">
                            <span aria-hidden="true">üìã</span> Copiar Resultados
                        </button>
                        <button type="button" id="resetBtn" class="btn-tertiary" aria-label="Restablecer valores predeterminados">
                            <span aria-hidden="true">‚Ü∫</span> Restablecer
                        </button>
                    </div>
                </form>
            </aside>

            <!-- Voltage/Current Distribution -->
            <section id="distribution" aria-labelledby="distribution-heading">
                <h2 class="vis-title" id="distribution-heading">
                    <span class="icon" aria-hidden="true">üìä</span>
                    Distribuci√≥n de Voltaje y Corriente
                </h2>
                <div class="canvas-container">
                    <canvas
                        id="distributionCanvas"
                        width="800"
                        height="300"
                        role="img"
                        aria-label="Gr√°fico de distribuci√≥n de voltaje (azul) y corriente (cian) a lo largo de la l√≠nea de transmisi√≥n"
                        tabindex="0">
                        Su navegador no soporta el elemento canvas.
                    </canvas>
                </div>
                <div class="info-box" role="note">
                    <strong>Nota:</strong> El gr√°fico muestra la magnitud normalizada del voltaje (azul) y la corriente (cian)
                    a lo largo de la l√≠nea de transmisi√≥n. Los marcadores indican las posiciones de los m√°ximos y m√≠nimos de voltaje.
                </div>
            </section>

            <!-- Smith Chart -->
            <section id="smith" aria-labelledby="smith-heading">
                <h2 class="vis-title" id="smith-heading">
                    <span class="icon smith-icon" aria-hidden="true">‚äö</span>
                    Diagrama de Smith
                </h2>
                <div class="svg-container">
                    <svg
                        id="smithChart"
                        viewBox="-1.2 -1.2 2.4 2.4"
                        preserveAspectRatio="xMidYMid meet"
                        role="img"
                        aria-label="Diagrama de Smith mostrando la impedancia de carga normalizada y el c√≠rculo de ROE"
                        tabindex="0">
                        <title>Diagrama de Smith Interactivo</title>
                        <desc>Representaci√≥n gr√°fica de la impedancia de carga normalizada en el plano complejo</desc>
                        <!-- Smith chart will be drawn here by JavaScript -->
                    </svg>
                </div>
                <div class="smith-controls">
                    <button type="button" id="zoomInBtn" class="zoom-btn" aria-label="Ampliar diagrama de Smith">
                        <span aria-hidden="true">üîç+</span>
                    </button>
                    <button type="button" id="zoomOutBtn" class="zoom-btn" aria-label="Reducir diagrama de Smith">
                        <span aria-hidden="true">üîç‚àí</span>
                    </button>
                    <button type="button" id="resetZoomBtn" class="zoom-btn" aria-label="Restablecer zoom">
                        <span aria-hidden="true">‚Ü∫</span>
                    </button>
                </div>
                <div class="info-box warning" role="note">
                    <strong>Nota:</strong> El punto √°mbar representa la impedancia de carga normalizada.
                    El c√≠rculo cian muestra la ROE (Relaci√≥n de Onda Estacionaria). 
                    Use los controles de zoom para explorar detalles.
                </div>
            </section>

            <!-- Standing Wave Diagram -->
            <section id="standingWave" aria-labelledby="standingWave-heading">
                <h2 class="vis-title" id="standingWave-heading">
                    <span class="icon" aria-hidden="true">üìç</span>
                    Ubicaci√≥n de M√°ximos y M√≠nimos
                </h2>
                <div
                    class="standing-wave-diagram"
                    id="standingWaveDiagram"
                    role="img"
                    aria-label="Diagrama de la l√≠nea de transmisi√≥n mostrando la ubicaci√≥n de m√°ximos (azul) y m√≠nimos (rojo) de voltaje"
                    tabindex="0">
                    <div class="transmission-line" aria-hidden="true"></div>
                    <!-- Max/min points will be added by JavaScript -->
                </div>
                <div class="info-box" role="note">
                    <strong>Nota:</strong> La l√≠nea representa la l√≠nea de transmisi√≥n. Los puntos azules indican
                    m√°ximos de voltaje (V‚Çò‚Çê‚Çì) y los puntos rojos indican m√≠nimos de voltaje (V‚Çò·µ¢‚Çô).
                </div>
            </section>

            <!-- Numerical Results -->
            <article id="results" aria-labelledby="results-heading">
                <h2 class="vis-title" id="results-heading">
                    <span class="icon" aria-hidden="true">üìã</span>
                    Resultados Num√©ricos
                </h2>
                <div class="results-grid" aria-live="polite" aria-atomic="false">
                    <div class="result-item">
                        <div class="result-label">Impedancia Normalizada</div>
                        <div class="result-value" id="normImpedance" aria-label="Impedancia normalizada">1.50 + j0.60</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Coeficiente de Reflexi√≥n (Œì)</div>
                        <div class="result-value" id="gamma" aria-label="Coeficiente de reflexi√≥n">0.250 + j0.150</div>
                        <div id="gammaMagAngle" class="highlight" aria-label="Magnitud y √°ngulo del coeficiente de reflexi√≥n">
                            |Œì| = 0.292 ‚à† 30.96¬∞
                        </div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">ROE (VSWR)</div>
                        <div class="result-value" id="vswr" aria-label="Relaci√≥n de onda estacionaria">1.82</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">P√©rdida de Retorno</div>
                        <div class="result-value" id="returnLoss" aria-label="P√©rdida de retorno en decibeles">10.7 dB</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Longitud de Onda</div>
                        <div class="result-value" id="wavelength" aria-label="Longitud de onda">3.00 m</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Primer V‚Çò‚Çê‚Çì desde Carga</div>
                        <div class="result-value" id="firstMax" aria-label="Distancia al primer m√°ximo de voltaje">0.183 m</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Primer V‚Çò·µ¢‚Çô desde Carga</div>
                        <div class="result-value" id="firstMin" aria-label="Distancia al primer m√≠nimo de voltaje">0.933 m</div>
                    </div>
                    <div class="result-item">
                        <div class="result-label">Atenuaci√≥n de L√≠nea</div>
                        <div class="result-value" id="loss" aria-label="Atenuaci√≥n de la l√≠nea">0.0 dB</div>
                        <div class="highlight" aria-label="Nota sobre atenuaci√≥n">(L√≠nea ideal)</div>
                    </div>
                </div>
                <div class="info-box" role="note">
                    <strong>Consejo:</strong> Use el bot√≥n "Copiar Resultados" para exportar todos los par√°metros
                    calculados al portapapeles en formato de texto listo para informes t√©cnicos.
                </div>
            </article>
        </div>
    </main>

    <footer role="contentinfo">
        <p>
            Aplicaci√≥n de An√°lisis de L√≠neas de Transmisi√≥n &copy; 2026 | 
            Universidad de Oriente - Facultad de Ingenier√≠as | 
            Dise√±ado para ingenieros de RF y microondas | 
            <span class="accessibility-badge" aria-label="Cumple con est√°ndares de accesibilidad">
                Cumple con WCAG 2.1 AA
            </span>
        </p>
    </footer>

    <!-- Toast notification for user feedback -->
    <div id="toast" class="toast" role="status" aria-live="polite" aria-atomic="true"></div>

    <script src="config.js"></script>
    <script src="validation.js"></script>
    <script src="calculations.js"></script>
    <script src="visualizations.js"></script>
    <script src="smith-chart.js"></script>
    <script src="main.js"></script>
</body>
</html>
